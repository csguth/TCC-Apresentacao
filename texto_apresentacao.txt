### 1 ###

Boa tarde,
Meu nome é Chrystian e eu vou apresentar meu trabalho entitulado "Análise de Timing Estática e a Avaliação do Impacto do Atraso das Interconexões em Circuitos Digitais".

### 2 ###
Segue aqui, o sumário da minha apresentação.

Primeiramente uma breve introdução.

Alguns conceitos fundamemntais.

Trabalhos correlatos, bem como a escolha da técnica implementada que é apresentada a seguir

uma visão geral sobre analise de timing estatica

Finalmente, serão apresentadas as conclusões

### 3 ###
Motivacao:

Os diversos dispositivos eletrônicos atuais, como os smartphones, são constituidos de circuitos digitais.

*click*

A complexidade destes circuitos digitais *click*, e a necessidade de um tempo curto de entrega ao mercado faz com que estes circuitos adotem o fluxo de projeto standard cell.

*click*

Diversas restrições são estabelecidas ao projeto tal como a restrição de desempenho, que define a frequencia que o produto final poderá operar.

*click* 

### 4 ###
O fluxo standard cell é utilizado nesses projetos. Ao decorrer do fluxo, algumas otimizações são realizadas (um exemplo, é o gate sizing, que visa minimizar o consumo de potência). Essas otimizações, podem alterar as topologias das interconexões, fazendo-se necessario, o uso de uma ferramenta de sta milhares de vezes durante o fluxo.

A medida que o fluxo se aproxima do layout, a precisão da ferramenta de analise de timing aumenta.

### 5 ###
Justificativa:
ler bullets

O objetivo principal do meu trabalho é *ler primeiro bullet*
E os objetivos especificos são: *ler restante dos bullets* 

### 6 ###
Neste trabalho os modelos de atraso são os adotados em fluxo standard cell.

As interconexões são modeladas de duas maneiras que serão apresentadas futuramente.

Este trabalho se limita em realizar a analise de timing de circuitos combinacionais, ou seja, os tempos de setup e hold dos registradores não são considerados.

Transicao: Nos proximos slides, eu irei apresentar alguns conceitos necessarios para o entendimento das técnicas apresentadas neste trabalho.

### 7 ###
as informacoes temporais dos circuitos digitais sao obtidas a partir das informacoes das suas duas partes principais: as portas lógicas e as interconexoes.

### 8 ###
No caso das portas lógicas, as informações a seguir são relevantes:

### 9 ###
É chamado de driver a porta logica que está ligada na entrada de uma interconexao.

Timing Arc é um conceito utilizado para relacionar um pino de entrada a um pino de saída de uma porta lógica, neste caso representado pela seta vermelha.

O delay é o atraso de propagação de um sinal em um timing arc. geralmente calculado da metade da transição na entrada até metade da transição nda saída.

Se a transicao da saída é de 0 até vdd, o delay é chamado de rise delay. caso contrário, fall delay.

*click*
Outro conceito importante é o de slew. O slew é o tempo de transicao do sinal. ou seja, o tempo que ele leva para ir de um nivel lógico a outro. Geralmente, o tempo é medido de 20% até 80% da transição.

Transição: Agora eu vou apresentar como o delay e o slew sao calculados no fluxo standard cell.

### 10 ###
para amortizar os custos dos projetos no fluxo standard cell, as celulas são previamente caracterizadas e suas informacoes temporais obtidas atraves de simulação são catalogadas em bibliotecas.

Os delays e slews dos timing arcs são funcoes do slew na entrada e da carga da saída. O delay, da mesma maneira que o slew, pode ser obtido nas lookuptables presentes nas bibliotecas de celula, onde as linhas sao enderecadas pela carga e as colunas sao enderecadas pelo slew. Neste caso, o delay do timing arc é 52.05.

Caso os valores de slew ou carga não estejam presentes nos indices da tabela, uma interpolação linear é realizada, utilizando os indices mais próximos.

### 11 ###
Agora vou apresentar alguns conceitos relacionados às interconexoes.

### 12 ###
As interconexões tem seu impacto no atraso do circuito atribuido a tres fatores:

a modelagem da interconexão reflete no valor de capacitancia na saída do seu driver.

a medida que o projeto avança no fluxo de projeto, essas informações sao obtidas com mais precisão, tal como o seu atraso e a degradação do slew, que não são considerados nas etapas iniciais.

Transição: Agora serão apresentados dois modelos de interconexaão, que foram os utilizados neste trabalho

### 13 ###
O modelo de capacitancia concentrada é muito utilizado nas etapas iniciais da sintese fisica.

Neste modelo, a capacitancia total da interconexão é concentrado em um único capacitor.

Como a interconexão não possui resistencias, o seu atraso pode ser desconsiderado.

### 14 ###
O modelo rc concentrado é amplamente adotado em fluxo standard cell.

Nele, cada segmento da interconexão corresponde a um valor de resistencia e capacitancia.

E geralmente é representado na forma de uma árvore, ou seja:
- Não possui loops resistivos
- Cada nodo tem um resistor que o conecta com o nodo pai
- TOdas as capacitancias são entre um nodo e o terra

Transição: No próximo slide, eu apresentarei algumas das técnicas para cálculo das caracteristicas temporais das interconexões juntamente com a técnica implementada neste trabalho.

### 15 ###
Nesta tabela estão apresentadas algumas tecnicas relacionadas às três características temporais das interconexões apresentadas anteriormente.

*click*

Diversas técnicas podem ser combinadas a fim de se obter todas as informações temporais, como é o caso da técnica D2M e PERI que foram combinadas no trabalho de Khang et. al. (2013). Porém, para modelar o atraso dos drivers, o trabalho utilizou a abordagem de capacitancia concentrada, apresentando erros superiores aos erros obtidos pela ferramenta implementada neste trabalho.

*click*

Nas tres técnicas apresentadas, o atraso das interconexões é obtido calculando momentos de maior ordem. Tais técnicas possuem alto custo computacional, sendo inviaveis seus usos no contexto de uma ferramenta de otimizacao para fluxo standard cell.

*click*

A técnica de Elmore, é amplamente utilizada para o atraso das interconexões, porque possui custo computacional baixo, porém, não considera o efeito conhecido como resistive shielding.

A técnica ECM, calcula o atraso da interconexão, e a capacitancia efetiva. Porém, aproxima slew do driver para obter o valor de capacitancia efetiva da interconexão.

Como o valor de slew do driver depende do valor da capacitancia efetiva e vice versa, no trabalho PURI (2002), uma tecnica iterativa para calculo do slew, capacitancia efetiva e atraso da interconexao foi proposto.


*click*

E este tecnica foi a escolhida no presente trabalho.

Transição: Agora vou apresentar a técnica escolhida.

### 16 ###
O algoritmo para calculo das informações temporais das interconexões é composto por 4 passos principais.

- no primeiro passo, de inicialização, a capacitancia efetiva de cada nodo é iniciado com o valor de capacitancia total downstream.

- no segundo passo, o slew é dregradado em todos os nodos, em ordem topologica até os nodos folha, que são os destinos da interconexao. Bem como o atraso da interconexão é calculado em todos os destinos.

- no terceiro passo, as capacitancias efetivas dos nodos são atualizados em ordem topologica reversa, com base do valor de slew em cada nodo.

Se o slew na entrada convergiu para a precisao epsilon, o algoritmo termina. caso contrário, volta para o passo 2.

Transição: Agora vou apresentar o algoritmo aplicado em um exemplo.

### 19 ###
Passo de inicializacao.

Transição: agora o segundo passo, de degradação dos slews

### 20 ###
o slew no nodo fonte, neste caso o nodo 0, é calculado diretamente, utilizando o modelo definido na biblioteca standard cell, com base na ceff0.

*click*
a seguir, o slew no nodo 1 é atualizado utilizando a equação apresentada, com base no slew previamente calculado no nodo 0.

*click*
O slew no nodo 3 é atualizado com a equação do slew, com base no slew calculado no nodo 1.

*click*

o slew no nodo 1 é utilizado também para atualizar o slew no nodo 2.

*click*
repetindo o procedimento para os demais nodos, será possível obter os slews nos destinos da interconexão, com base nos slews de seus pais.

Transição: com todos os valores de slew, a capacitancia efetiva em cada nodo pode ser atualizada

### 21 ###

A capacitancia efetiva nos nodos folhas da arvore é setada com o valor de capacitancia destes nodos.

*click*

no nodo 4, a capacitancia efetiva é setada com o valor de capacitancia do nodo, mais o valor de capacitancia do seu filho, no caso o 7, multiplicado por um fator de shielding, nesta equacao representado pela letra K. (explicar o K)

No nodo 3, similarmente, a capacitancia efetiva é inicializada com o seu valor de capacitancia,

*click*

 somado com as capacitancias efetivas dos seus filhos, multiplicadas pelos fatores de shielding.

*clicK*

O processo é repetido para os próximos nodos, até que o valor de capacitancia efetiva no nodo fonte seja calculado.

*click*

A capacitanca efetiva vista pelo driver é exatamente a capacitancia efetiva no nodo fonte da interconexao. O slew pode ser recalculado com base neste valor. Caso ele convirja na precisao estipulada, o algoritmo termina.

Transição: Agora vou dar uma visão geral sobre a análise de timing

### 20 ###
as tecnicas apresentadas até então são relativas as informacoes temporais locais das interconexoes e portas logicas. 

*click*

A analise de timing avalia o atraso global de um circuito, com base nesse atrasos locais.

*click*

### 21 ###
O fluxo básico de uma ferramenta de sta é o seguinte.

primeiramente, os arquivos de entrada são lidos para que o grafo de timing seja gerado.

A seguir, as informaçoes temporais são atualizadas, utilizando o algoritmo de sta.

uma ferramenta de otimização requisita este ultimo passo milhares de vezes

Transição: 

### 22 ###

Considerando o circuito digital apresentado na figura

os pinos de eentrada e saída das portas lógicas correspondem aos vertices e as arestas são definidas pelos timing arcs e pelas interconexoes.

Os vertices sao armazenados como listas ordenadas topologicamente. Assim, o algoritmo de analise de timing corresponde apenas a uma iteracao em cada item da lista, calculando e propagando as informaçoes locais de timing.

Transição: Agora será apresentado como o algoritmo de annalise de timing atualiza as informaçoes globais do circuito.

### 23 ###
Apresentar a animação rapidamente

Neste caso, o tempo de chegada na entrada do flip flop é maior que o periodo maximo, estipulado como restrição de desempenho, apresentando uma violação na mesma.

Transicao: nos próximos slides serão apresentados os experimentos que foram realizados neste trabalho, a fim de validar as tecnicas estudadas.

### 24 ###
Neste slide é apresentada a metodologia utilizada para a validação da ferramenta implementada. Os resultados obtidos pela analise de timing foram comparados com os resultados fornecidos pela ferramenta industrial primetime utilizando a metrica do erro relativo.

as informações comparadas foram

runtime, TNS (que é o somatório das violações na restrição de desempenho), critical path (que é o atraso do maior caminho do circuito) e o número de saídas primárias que violam a restrição.

### 25 ###
as técnicas que foram implementadas e comparadas são as seguintes

*click*

a infraestrutura em que este trabalho se baseia são os 8 circuitos da competição de sizing do ISPD de 2013, bem como a biblioteca standard cell realista

Transição: agora vou apresentar os experimentos que foram realizados

### 26 ###
Neste primeiro experimento, o modelo de capacitancia concentrada foi utilizado para as interconexoes.

a tabela mostra que a ferramenta implementada apresenta resultados iguais aos da ferramenta comparada em cerca de 50x menos tempo.

### 27 ###
No segundo experimento, a sta foi aplicada considerando a técnica para calculo das informações temporais das interconexões apresentada anteriormente.

A ferramenta mostrou-se otimista em relação ao primetime, subestimando seus valores para atraso critico e slack negativo na media em 4.28% e 7.35% respectivamente.

Em questao de tempo de execucao, a ferramenta se mostrou cerca de 8x mais rápida na media.

### 28 ###
NEste experimento, os tempos de chegada nas saidas primarias do circuito foram obtidos e comparados considerando tres configuracoes para o circuito.

a primeira, representa a configuracao de portas logicas com menor desempenho.

a segunda, representa a configuracao padrao.

e a terceira, a configuracao de portas logicas com maior desempenho.


### 29 ###

nos dois circuitos avaliados, a ferramenta apresenta erro medio proximo de 1% com baixo desvio padrão na configuracao de maior desempenho.

### 30 ###
neste experimento foi avaliada a importancia do calculo da degradacao do slew noo contexto da analise de timing.

a mesma tecnica para calculo da capacitancia efetiva e atraso das interconexoes foi utilizada, porem, o slew propagado nao sofre degradacao.

o experimento apresentou resultados muito otimistas para TNS e caminho critico, com valores perto de 30% e 20% respectivamente.

### 31 ###
neste experimento foi calculado relacao media entre ceff e ctotal para os circuitos considerando as tres configuracoes de leakage apresentadas anteriormente. 

este experimento mostra que nos circuitos da competicao de sizing do ispd, a relacao ceff/ctotal media é bem proxima de 1, e a medida que o leakage aumenta, essa relação fica mais proxima ainda.

### 32 ###

aqui pode ser vista a distribuição das frequencias em um circuito de 156 mil portas.

o conjunto das interconexoes foi dividido em tres partes iguais, e ordenadas pelos valores de resistencia.

o grafico em verde mostra a distribuição das frequencias da relacao ceff/ctotal nas interconexoes com menores valores de resistencia.

na segunda parte, com valores medios, e por último, maiores resistencias.

pode-se observar que nas interconexoes menores, com menor valor de resistencia, que a 

*click*

ao darmos um zoom limitando o eixo y em 200, observamos que nas resistencias maiores existem mais interconexoes com a relacao menor que 1. ou seja, maior o efeito de resistive shielding na interconexão.

### 35 ###

similarmente, no circuito matrix mult

*click*

com zoom em 500

Transição: Como a relacao media de ceff/ctotal é proxima de 1 nos circuitos testados, é interessante também avaliar a técnica de capacitancia concentrada de modo a obter um runtime menor.

### 36 ###
Neste experimento, a analise de timing foi realizada utilizando a abordagem de capacitancia concentrada para o driver, atraso de elmore para interconexao e degradação do slew.

a técnica se mostrou 32x mais rápida que o primetime e y x mais rápida que a técnica de ceff apresentada anteriormente, apresentando resultados pessimistas em relação ao primetime.

Os erros continuam baixos, porém mais altos que os do experimento anterior. (10.52% e 4.63%)

### 37 ###
finalmente as minhas conclusoes:

*ler bullets rapidamente*

### 38 ###
aqui são apresentadas algumas perspectivas de trabalhos futuros:

*ler bullets*

### 39 ###
FIM

 